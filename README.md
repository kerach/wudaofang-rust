# 五道方游戏

## 游戏简介

五道方是一款基于 5x5 棋盘的策略棋类游戏，支持两人对战。游戏分为落子、吃棋、走子三个阶段，玩家通过形成特定模式获得奖励，并最终争夺胜利。

## 游戏规则

1. **阶段流程**
   - **落子阶段**：黑白双方轮流在棋盘上放置棋子。形成奖励模式可获得额外落子机会。
   - **吃棋阶段**：棋盘满后，双方轮流吃掉对方棋子，奖励模式中的棋子受保护不可被吃。
   - **走子阶段**：玩家轮流移动自己的棋子到相邻空位，形成奖励模式可获得吃子机会。

2. **奖励模式**
   - 成方（1x1正方形）：+1次吃子机会
   - 成三斜（3点斜线）：+1次吃子机会
   - 成四斜（4点斜线）：+1次吃子机会
   - 成州（整行/整列）：+2次吃子机会
   - 成龙（主/副对角线）：+2次吃子机会

3. **胜负条件**
   - 对方棋子少于3个或无法移动时获胜
   - 玩家可主动认输

## 主要结构设计

- `Player`：玩家枚举（黑方/白方），包含对手切换、显示等方法
- `Cell`：棋盘格状态（空/占据）
- `GamePhase`：游戏阶段（落子/吃棋/走子）
- `RewardPattern`：奖励模式类型
- `GameAction`：游戏动作记录（落子、吃棋、移动、奖励）
- `Board`：棋盘主结构，包含棋盘状态、奖励记录、保护棋子、阶段控制等
- `GameReplayer`：棋谱重放器
- `WudaoApp`：基于 egui 的图形界面主应用

## 玩法说明

- 鼠标点击棋盘进行落子、吃棋、移动操作
- 形成奖励模式时自动获得额外机会
- 受保护棋子高亮显示，不能被吃
- 支持认输、新游戏、查看规则等操作

## 技术实现

- Rust 语言编写，核心逻辑与界面分离
- egui 框架实现现代化图形界面
- 支持棋谱记录与重放

## 运行方法

确保已安装 Rust 和字体文件，运行：

```bash
cargo run --release
```

## 设计理念

- 简洁明了的规则，易于上手
- 丰富的奖励机制，增加策略性
- 现代化界面，提升用户体验
